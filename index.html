<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protories DIAGNOSTIC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>body { background-color: #000; color: #0f0; font-family: 'Courier New', monospace; padding: 20px; }</style>
</head>
<body>
    <h1 class="text-xl font-bold border-b border-green-500 pb-4 mb-4">DIAGNOSTIC API v3.0</h1>
    
    <div id="status" class="mb-4 text-white">En attente...</div>

    <button onclick="checkModels()" class="w-full bg-green-900 text-green-100 py-4 rounded font-bold mb-6 border border-green-500">
        SCANNER LES MOD√àLES DISPONIBLES
    </button>

    <div id="results" class="text-xs break-all whitespace-pre-wrap text-yellow-400"></div>

    <script>
        const API_KEY = "AIzaSyAoc-U6jQy6eiysfAQvel3m93tJfywNpxo";

        async function checkModels() {
            const status = document.getElementById('status');
            const resDiv = document.getElementById('results');
            
            status.innerText = "Interrogation de Google...";
            resDiv.innerText = "Chargement...";

            try {
                // On demande la liste officielle des mod√®les
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${API_KEY}`);
                const data = await response.json();

                if (data.models) {
                    status.innerText = "‚úÖ SUCC√àS : Mod√®les trouv√©s !";
                    status.classList.add("text-green-400");
                    
                    // On filtre pour ne garder que ceux qui voient (Vision) ou g√©n√®rent du contenu
                    let text = "VOICI LES NOMS EXACTS √Ä UTILISER :\n\n";
                    data.models.forEach(m => {
                        if(m.supportedGenerationMethods.includes("generateContent")) {
                            text += `üîπ ${m.name}\n`;
                        }
                    });
                    resDiv.innerText = text;
                } else {
                    status.innerText = "‚ùå ERREUR : Pas de liste re√ßue.";
                    resDiv.innerText = JSON.stringify(data, null, 2);
                }
            } catch (e) {
                status.innerText = "‚ùå ERREUR R√âSEAU";
                resDiv.innerText = e.message;
            }
        }
    </script>
</body>
</html>
